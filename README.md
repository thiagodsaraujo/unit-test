# üìö Guia Completo: Testes Unit√°rios com JUnit 5 e Mockito

## üìã √çndice
- [Introdu√ß√£o](#introdu√ß√£o)
- [O que s√£o Testes Unit√°rios?](#o-que-s√£o-testes-unit√°rios)
- [JUnit 5](#junit-5)
- [Mockito](#mockito)
- [Anota√ß√µes Principais](#anota√ß√µes-principais)
- [Ciclo de Vida dos Testes](#ciclo-de-vida-dos-testes)
- [Assertions (Asser√ß√µes)](#assertions-asser√ß√µes)
- [Mocking e Stubbing](#mocking-e-stubbing)
- [Verifica√ß√µes](#verifica√ß√µes)
- [Testes de Exce√ß√µes](#testes-de-exce√ß√µes)
- [Testando M√©todos Privados](#testando-m√©todos-privados)
- [Boas Pr√°ticas](#boas-pr√°ticas)
- [Exemplos Pr√°ticos](#exemplos-pr√°ticos)

---

## üéØ Introdu√ß√£o

Este guia apresenta os conceitos fundamentais de **testes unit√°rios** em Java utilizando **JUnit 5** e **Mockito**, duas das ferramentas mais populares para garantir a qualidade e confiabilidade do c√≥digo.

## üîç O que s√£o Testes Unit√°rios?

Testes unit√°rios s√£o testes automatizados que verificam o comportamento de **pequenas unidades de c√≥digo** (geralmente m√©todos ou classes) de forma isolada. 

### Benef√≠cios:
‚úÖ **Detec√ß√£o precoce de bugs**  
‚úÖ **Documenta√ß√£o viva do c√≥digo**  
‚úÖ **Facilita refatora√ß√£o**  
‚úÖ **Aumenta a confian√ßa nas mudan√ßas**  
‚úÖ **Melhora o design do c√≥digo**  

### Caracter√≠sticas:
- **R√°pidos**: Executam em milissegundos
- **Isolados**: N√£o dependem de recursos externos (BD, rede, etc.)
- **Repet√≠veis**: Produzem o mesmo resultado sempre
- **Autom√°ticos**: N√£o requerem interven√ß√£o manual

---

## üß™ JUnit 5

JUnit 5 √© o framework de testes mais popular para Java. Composto por tr√™s sub-projetos:

- **JUnit Platform**: Base para executar frameworks de teste na JVM
- **JUnit Jupiter**: API para escrever testes no JUnit 5
- **JUnit Vintage**: Suporte para executar testes JUnit 3 e 4

### Depend√™ncia Maven:
```xml
<dependency>
    <groupId>org.junit.jupiter</groupId>
    <artifactId>junit-jupiter</artifactId>
    <version>5.10.0</version>
    <scope>test</scope>
</dependency>
```

---

## üé≠ Mockito

Mockito √© um framework de **mocking** que permite criar objetos simulados (mocks) para isolar a unidade de c√≥digo sendo testada de suas depend√™ncias.

### Depend√™ncia Maven:
```xml
<dependency>
    <groupId>org.mockito</groupId>
    <artifactId>mockito-core</artifactId>
    <version>5.5.0</version>
    <scope>test</scope>
</dependency>
<dependency>
    <groupId>org.mockito</groupId>
    <artifactId>mockito-junit-jupiter</artifactId>
    <version>5.5.0</version>
    <scope>test</scope>
</dependency>
```

### Por que usar Mockito?
- ‚úÖ Isola o c√≥digo testado de depend√™ncias externas
- ‚úÖ Simula comportamentos complexos facilmente
- ‚úÖ Torna os testes mais r√°pidos
- ‚úÖ Permite testar cen√°rios dif√≠ceis de reproduzir

---

## üìå Anota√ß√µes Principais

### JUnit 5

| Anota√ß√£o | Descri√ß√£o | Quando Usar |
|----------|-----------|-------------|
| `@Test` | Marca um m√©todo como teste | Sempre para m√©todos de teste |
| `@BeforeAll` | Executa uma vez antes de todos os testes | Inicializar recursos caros (DB, servidor) |
| `@BeforeEach` | Executa antes de cada teste | Preparar estado para cada teste |
| `@AfterAll` | Executa uma vez ap√≥s todos os testes | Liberar recursos compartilhados |
| `@AfterEach` | Executa ap√≥s cada teste | Limpar estado ap√≥s cada teste |
| `@DisplayName` | Define um nome descritivo para o teste | Melhorar legibilidade dos relat√≥rios |
| `@Disabled` | Desabilita um teste | Temporariamente pular um teste |
| `@RepeatedTest(n)` | Repete o teste n vezes | Testar comportamento n√£o-determin√≠stico |
| `@ParameterizedTest` | Permite passar m√∫ltiplos par√¢metros | Testar m√∫ltiplos cen√°rios |
| `@Timeout` | Define tempo m√°ximo de execu√ß√£o | Detectar m√©todos que travam |

### Mockito

| Anota√ß√£o | Descri√ß√£o | Uso |
|----------|-----------|-----|
| `@ExtendWith(MockitoExtension.class)` | Habilita o Mockito no JUnit 5 | N√≠vel de classe |
| `@Mock` | Cria um objeto mock | Para depend√™ncias |
| `@InjectMocks` | Injeta os mocks na classe testada | Para a classe sendo testada |
| `@Spy` | Cria um spy (mock parcial) | Quando precisa de comportamento real e mock |
| `@Captor` | Captura argumentos passados aos mocks | Para valida√ß√µes complexas |

---

## üîÑ Ciclo de Vida dos Testes

```java
@ExtendWith(MockitoExtension.class)
public class ProductServiceTest {

    @BeforeAll
    static void initAll() {
        // Executado UMA VEZ antes de TODOS os testes
        // Deve ser est√°tico
        // Use para: conex√µes DB, inicializar servidores de teste
        System.out.println("Inicializando recursos compartilhados...");
    }

    @BeforeEach
    void init() {
        // Executado ANTES de CADA teste
        // N√£o precisa ser est√°tico
        // Use para: resetar estado, preparar dados de teste
        System.out.println("Preparando teste...");
    }

    @Test
    void meuTeste() {
        // L√≥gica do teste
    }

    @AfterEach
    void tearDown() {
        // Executado AP√ìS cada teste
        // Use para: limpar dados, resetar mocks
        System.out.println("Limpando ap√≥s teste...");
    }

    @AfterAll
    static void tearDownAll() {
        // Executado UMA VEZ ap√≥s TODOS os testes
        // Deve ser est√°tico
        // Use para: fechar conex√µes, parar servidores
        System.out.println("Liberando recursos compartilhados...");
    }
}
```

### Fluxo de Execu√ß√£o:
```
@BeforeAll (uma vez)
  ‚Üì
@BeforeEach ‚Üí @Test (teste 1) ‚Üí @AfterEach
  ‚Üì
@BeforeEach ‚Üí @Test (teste 2) ‚Üí @AfterEach
  ‚Üì
@BeforeEach ‚Üí @Test (teste 3) ‚Üí @AfterEach
  ‚Üì
@AfterAll (uma vez)
```

---

## ‚úÖ Assertions (Asser√ß√µes)

Asser√ß√µes verificam se o resultado √© o esperado. JUnit 5 oferece diversas asser√ß√µes:

### Asser√ß√µes B√°sicas

```java
import static org.junit.jupiter.api.Assertions.*;

@Test
void exemploAssertions() {
    Product product = new Product(1, "Laptop", 2000);
    
    // Verificar igualdade
    assertEquals(1, product.getId());
    assertEquals("Laptop", product.getName());
    
    // Verificar n√£o-nulidade
    assertNotNull(product);
    
    // Verificar nulidade
    assertNull(product.getDescription());
    
    // Verificar booleanos
    assertTrue(product.getPrice() > 0);
    assertFalse(product.getName().isEmpty());
    
    // Verificar mesmo objeto (refer√™ncia)
    assertSame(product, product);
    
    // Verificar objetos diferentes
    assertNotSame(product, new Product(1, "Laptop", 2000));
    
    // Verificar arrays
    int[] expected = {1, 2, 3};
    int[] actual = {1, 2, 3};
    assertArrayEquals(expected, actual);
}
```

### Asser√ß√µes Avan√ßadas

```java
@Test
void assertionsAvancadas() {
    // Agrupar m√∫ltiplas asser√ß√µes
    assertAll("product",
        () -> assertEquals(1, product.getId()),
        () -> assertEquals("Laptop", product.getName()),
        () -> assertTrue(product.getPrice() > 0)
    );
    
    // Verificar exce√ß√µes
    Exception exception = assertThrows(RuntimeException.class, () -> {
        productService.addProduct(null);
    });
    assertEquals("Product cannot be null", exception.getMessage());
    
    // Timeout
    assertTimeout(Duration.ofSeconds(1), () -> {
        // Opera√ß√£o que deve completar em 1 segundo
        productService.findAll();
    });
}
```

---

## üé≠ Mocking e Stubbing

### Criando Mocks

```java
@ExtendWith(MockitoExtension.class)
class ProductServiceTest {
    
    @Mock
    private ProductRepository productRepository;
    
    @InjectMocks
    private ProductService productService;
    
    // Alternativa sem anota√ß√µes:
    @BeforeEach
    void setup() {
        productRepository = Mockito.mock(ProductRepository.class);
        productService = new ProductService(productRepository);
    }
}
```

### Stubbing (Definindo Comportamento)

```java
@Test
void exemploStubbing() {
    Product product = new Product(1, "Laptop", 2000);
    
    // WHEN-THEN: Quando chamar o m√©todo, ent√£o retorne o valor
    when(productRepository.save(any(Product.class))).thenReturn(product);
    when(productRepository.findById(1)).thenReturn(Optional.of(product));
    when(productRepository.findAll()).thenReturn(Arrays.asList(product));
    
    // Para m√©todos void
    doNothing().when(productRepository).deleteById(1);
    
    // Lan√ßar exce√ß√µes
    when(productRepository.findById(999))
        .thenThrow(new ProductNotFoundException("Product not found"));
    
    // Comportamentos sequenciais
    when(productRepository.count())
        .thenReturn(0L)      // Primeira chamada
        .thenReturn(1L)      // Segunda chamada
        .thenReturn(2L);     // Terceira chamada
    
    // Resposta customizada
    when(productRepository.save(any(Product.class)))
        .thenAnswer(invocation -> {
            Product p = invocation.getArgument(0);
            p.setId(100);
            return p;
        });
}
```

### ArgumentMatchers

```java
import static org.mockito.ArgumentMatchers.*;

@Test
void exemploMatchers() {
    // Qualquer objeto do tipo
    when(productRepository.save(any(Product.class))).thenReturn(product);
    
    // Qualquer inteiro
    when(productRepository.findById(anyInt())).thenReturn(Optional.of(product));
    
    // Qualquer string
    when(productRepository.findByName(anyString())).thenReturn(product);
    
    // Valor espec√≠fico
    when(productRepository.findById(eq(1))).thenReturn(Optional.of(product));
    
    // Null
    when(productRepository.save(isNull())).thenThrow(IllegalArgumentException.class);
    
    // Not null
    when(productRepository.save(notNull())).thenReturn(product);
    
    // Lista vazia
    when(productRepository.findByIds(anyList())).thenReturn(Collections.emptyList());
}
```

---

## üîç Verifica√ß√µes

Verifica√ß√µes confirmam que certos m√©todos foram chamados (ou n√£o) nos mocks.

```java
@Test
void exemploVerificacoes() {
    Product product = new Product(1, "Laptop", 2000);
    
    productService.addProduct(product);
    
    // Verificar que o m√©todo foi chamado
    verify(productRepository).save(product);
    
    // Verificar n√∫mero de chamadas
    verify(productRepository, times(1)).save(product);
    
    // Verificar que nunca foi chamado
    verify(productRepository, never()).deleteById(anyInt());
    
    // Verificar pelo menos N chamadas
    verify(productRepository, atLeast(1)).save(any(Product.class));
    
    // Verificar no m√°ximo N chamadas
    verify(productRepository, atMost(2)).save(any(Product.class));
    
    // Verificar ordem de chamadas
    InOrder inOrder = inOrder(productRepository);
    inOrder.verify(productRepository).save(product);
    inOrder.verify(productRepository).findById(1);
    
    // Verificar que n√£o houve mais intera√ß√µes
    verifyNoMoreInteractions(productRepository);
    
    // Verificar que n√£o houve nenhuma intera√ß√£o
    verifyNoInteractions(productRepository);
}
```

---

## üí• Testes de Exce√ß√µes

```java
@Test
void testExceptions() {
    Product product = new Product(1, "", 2000); // Nome inv√°lido
    
    // Forma 1: Verificar que exce√ß√£o foi lan√ßada
    assertThrows(RuntimeException.class, () -> {
        productService.addProduct(product);
    });
    
    // Forma 2: Verificar exce√ß√£o e mensagem
    RuntimeException exception = assertThrows(RuntimeException.class, () -> {
        productService.addProduct(product);
    });
    assertEquals("Invalid Name Of Product", exception.getMessage());
    
    // Forma 3: Verificar com Mockito (quando mock lan√ßa exce√ß√£o)
    when(productRepository.save(any()))
        .thenThrow(new DataAccessException("Database error"));
    
    assertThrows(DataAccessException.class, () -> {
        productService.addProduct(product);
    });
    
    // Verificar que o m√©todo n√£o foi chamado devido √† exce√ß√£o
    verify(productRepository, never()).save(any(Product.class));
}
```

---

## üîí Testando M√©todos Privados

**Boa Pr√°tica**: Idealmente, m√©todos privados s√£o testados indiretamente atrav√©s de m√©todos p√∫blicos. Por√©m, quando necess√°rio:

### Usando Reflex√£o (Java Reflection)

```java
@Test
void testPrivateMethodUsingReflection() throws Exception {
    // Criar inst√¢ncia
    Product product = new Product();
    product.setName("Book");
    
    // Acessar m√©todo privado usando reflex√£o
    Method method = ProductService.class
        .getDeclaredMethod("validateProductName", String.class);
    
    // Tornar acess√≠vel
    method.setAccessible(true);
    
    // Invocar o m√©todo
    boolean isValid = (boolean) method.invoke(productService, product.getName());
    
    // Verificar resultado
    assertTrue(isValid);
}
```

### Quando Testar M√©todos Privados:
- ‚ùå **Evite**: Na maioria dos casos
- ‚úÖ **Considere**: Se a l√≥gica √© complexa e cr√≠tica
- ‚úÖ **Melhor**: Extrair para uma classe separada e tornar p√∫blico
- ‚úÖ **Alternativa**: Mudar visibilidade para `protected` ou `package-private` para testes

---

## üèÜ Boas Pr√°ticas

### 1. **Nomenclatura de Testes**

```java
// ‚ùå Ruim
@Test
void test1() { }

// ‚úÖ Bom - Padr√£o: metodo_cenario_resultadoEsperado
@Test
void addProduct_WithValidData_ShouldReturnProduct() { }

@Test
void addProduct_WithEmptyName_ShouldThrowException() { }

@Test
void deleteProduct_WhenProductExists_ShouldDeleteSuccessfully() { }
```

### 2. **Padr√£o AAA (Arrange-Act-Assert)**

```java
@Test
void addProductShouldAddProductSuccessfully() {
    // ARRANGE (Preparar) - Configurar dados e mocks
    Product product = new Product(1, "Laptop", 2000);
    when(productRepository.save(product)).thenReturn(product);
    
    // ACT (Agir) - Executar o m√©todo sendo testado
    Product result = productService.addProduct(product);
    
    // ASSERT (Verificar) - Verificar o resultado
    assertNotNull(result);
    assertEquals(product.getId(), result.getId());
    verify(productRepository).save(product);
}
```

### 3. **Um Teste, Um Conceito**

```java
// ‚ùå Ruim - Testando m√∫ltiplos comportamentos
@Test
void testProduct() {
    productService.addProduct(product);
    productService.updateProduct(product);
    productService.deleteProduct(product.getId());
}

// ‚úÖ Bom - Um teste por comportamento
@Test
void addProduct_ShouldAddSuccessfully() {
    productService.addProduct(product);
    verify(productRepository).save(product);
}

@Test
void updateProduct_ShouldUpdateSuccessfully() {
    productService.updateProduct(product);
    verify(productRepository).update(product);
}
```

### 4. **Testes Independentes**

```java
// ‚ùå Ruim - Testes dependentes
static Product sharedProduct;

@Test
void test1() {
    sharedProduct = new Product(1, "Laptop", 2000);
}

@Test
void test2() {
    // Depende do test1 ter executado antes
    productService.update(sharedProduct);
}

// ‚úÖ Bom - Testes independentes
@BeforeEach
void setup() {
    product = new Product(1, "Laptop", 2000);
}

@Test
void test1() {
    productService.add(product);
}

@Test
void test2() {
    productService.update(product);
}
```

### 5. **N√£o Testar C√≥digo de Framework**

```java
// ‚ùå N√£o teste getters/setters simples
@Test
void testGettersSetters() {
    product.setName("Laptop");
    assertEquals("Laptop", product.getName());
}

// ‚úÖ Teste l√≥gica de neg√≥cio
@Test
void calculateDiscount_WithVIPCustomer_ShouldApply20PercentDiscount() {
    // L√≥gica real de neg√≥cio
}
```

### 6. **Cobertura de C√≥digo**

- **Objetivo**: 70-80% de cobertura √© bom
- **N√£o se obceda**: 100% de cobertura n√£o garante qualidade
- **Foque**: Caminhos cr√≠ticos e l√≥gica de neg√≥cio
- **Ferramentas**: JaCoCo, SonarQube

### 7. **Testes R√°pidos**

```java
// ‚ùå Evite opera√ß√µes lentas
@Test
void slowTest() {
    Thread.sleep(5000); // 5 segundos
    // ...
}

// ‚úÖ Use mocks para recursos externos
@Test
void fastTest() {
    when(externalApi.call()).thenReturn(mockResponse);
    // Executa em milissegundos
}
```

### 8. **Mensagens de Erro Claras**

```java
// ‚ùå Sem mensagem
assertEquals(expected, actual);

// ‚úÖ Com mensagem descritiva
assertEquals(expected, actual, 
    "O pre√ßo calculado deveria ser " + expected + " mas foi " + actual);

// ‚úÖ Ainda melhor - usar assertAll
assertAll("Valida√ß√£o do produto",
    () -> assertEquals(1, product.getId(), "ID incorreto"),
    () -> assertEquals("Laptop", product.getName(), "Nome incorreto"),
    () -> assertTrue(product.getPrice() > 0, "Pre√ßo deve ser positivo")
);
```

---

## üí° Exemplos Pr√°ticos

### Exemplo 1: Teste B√°sico com Mock

```java
@ExtendWith(MockitoExtension.class)
class ProductServiceTest {

    @Mock
    private ProductRepository productRepository;

    @InjectMocks
    private ProductService productService;

    @Test
    void addProduct_WithValidData_ShouldReturnProduct() {
        // Arrange
        Product product = new Product(1, "Laptop", 2000);
        when(productRepository.save(any(Product.class))).thenReturn(product);

        // Act
        Product result = productService.addProduct(product);

        // Assert
        assertNotNull(result);
        assertEquals(product.getId(), result.getId());
        assertEquals(product.getName(), result.getName());
        verify(productRepository, times(1)).save(product);
    }
}
```

### Exemplo 2: Teste de M√©todo Void

```java
@Test
void deleteProduct_WhenProductExists_ShouldDeleteSuccessfully() {
    // Arrange
    Integer productId = 1;
    doNothing().when(productRepository).deleteById(productId);

    // Act
    productService.deleteProduct(productId);

    // Assert
    verify(productRepository, times(1)).deleteById(productId);
}
```

### Exemplo 3: Teste de Exce√ß√£o

```java
@Test
void addProduct_WithInvalidName_ShouldThrowException() {
    // Arrange
    Product product = new Product(2, "", 1500); // Nome vazio

    // Act & Assert
    RuntimeException exception = assertThrows(RuntimeException.class, () -> {
        productService.addProduct(product);
    });

    assertEquals("Invalid Name Of Product", exception.getMessage());
    verify(productRepository, never()).save(any(Product.class));
}
```

### Exemplo 4: Teste Parametrizado

```java
@ParameterizedTest
@ValueSource(strings = {"Laptop", "Phone", "Tablet"})
void addProduct_WithDifferentNames_ShouldAddSuccessfully(String productName) {
    // Arrange
    Product product = new Product(1, productName, 1000);
    when(productRepository.save(any(Product.class))).thenReturn(product);

    // Act
    Product result = productService.addProduct(product);

    // Assert
    assertEquals(productName, result.getName());
}

@ParameterizedTest
@CsvSource({
    "1, Laptop, 2000",
    "2, Phone, 1000",
    "3, Tablet, 1500"
})
void addProduct_WithMultipleProducts_ShouldAddSuccessfully(
        int id, String name, int price) {
    // Arrange
    Product product = new Product(id, name, price);
    when(productRepository.save(any(Product.class))).thenReturn(product);

    // Act
    Product result = productService.addProduct(product);

    // Assert
    assertAll(
        () -> assertEquals(id, result.getId()),
        () -> assertEquals(name, result.getName()),
        () -> assertEquals(price, result.getPrice())
    );
}
```

### Exemplo 5: Teste com @Spy

```java
@ExtendWith(MockitoExtension.class)
class ProductServiceSpyTest {

    @Spy
    private ProductService productService;

    @Test
    void calculateDiscount_ShouldUseRealMethodButMockPartially() {
        // Spy permite usar comportamento real e mockar parte
        Product product = new Product(1, "Laptop", 1000);
        
        // Mockar apenas um m√©todo espec√≠fico
        doReturn(0.2).when(productService).getDiscountRate();
        
        // Outros m√©todos usam implementa√ß√£o real
        double finalPrice = productService.calculateFinalPrice(product);
        
        assertEquals(800.0, finalPrice); // 1000 - 20%
    }
}
```

---

## üìä Estrutura de Projeto de Testes

```
src/
‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îî‚îÄ‚îÄ java/
‚îÇ       ‚îî‚îÄ‚îÄ com/
‚îÇ           ‚îî‚îÄ‚îÄ example/
‚îÇ               ‚îú‚îÄ‚îÄ service/
‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ ProductService.java
‚îÇ               ‚îú‚îÄ‚îÄ repository/
‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ ProductRepository.java
‚îÇ               ‚îî‚îÄ‚îÄ entity/
‚îÇ                   ‚îî‚îÄ‚îÄ Product.java
‚îî‚îÄ‚îÄ test/
    ‚îî‚îÄ‚îÄ java/
        ‚îî‚îÄ‚îÄ com/
            ‚îî‚îÄ‚îÄ example/
                ‚îî‚îÄ‚îÄ service/
                    ‚îî‚îÄ‚îÄ ProductServiceTest.java
```

**Conven√ß√£o**: 
- Classe de teste tem o mesmo nome + "Test"
- Mesma estrutura de pacotes
- Pasta `test/java` separada de `main/java`

---

## üöÄ Executando Testes

### Via Maven

```bash
# Executar todos os testes
mvn test

# Executar classe espec√≠fica
mvn test -Dtest=ProductServiceTest

# Executar m√©todo espec√≠fico
mvn test -Dtest=ProductServiceTest#addProductShouldAddProductSuccessfully

# Com cobertura de c√≥digo
mvn clean test jacoco:report
```

### Via IDE (IntelliJ IDEA)

- Clique com bot√£o direito na classe de teste ‚Üí Run 'ProductServiceTest'
- Clique no √≠cone verde ao lado do m√©todo ‚Üí Run teste espec√≠fico
- Ctrl+Shift+F10 (Windows/Linux) ou Cmd+Shift+R (Mac)

---

## üìö Recursos Adicionais

### Documenta√ß√£o Oficial
- [JUnit 5 User Guide](https://junit.org/junit5/docs/current/user-guide/)
- [Mockito Documentation](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html)

### Livros Recomendados
- "Unit Testing Principles, Practices, and Patterns" - Vladimir Khorikov
- "Test Driven Development: By Example" - Kent Beck
- "Growing Object-Oriented Software, Guided by Tests" - Steve Freeman

### Ferramentas √öteis
- **JaCoCo**: Cobertura de c√≥digo
- **AssertJ**: Asser√ß√µes fluentes mais leg√≠veis
- **MockServer**: Mock de APIs REST
- **TestContainers**: Containers Docker para testes de integra√ß√£o

---

## üéì Resumo dos Conceitos-Chave

| Conceito | Descri√ß√£o | Exemplo |
|----------|-----------|---------|
| **Mock** | Objeto falso que simula comportamento | `@Mock ProductRepository` |
| **Stub** | Definir comportamento do mock | `when(...).thenReturn(...)` |
| **Spy** | Mock parcial com comportamento real | `@Spy ProductService` |
| **Verify** | Verificar se m√©todo foi chamado | `verify(mock).method()` |
| **Assert** | Verificar resultado esperado | `assertEquals(expected, actual)` |
| **AAA** | Arrange-Act-Assert (padr√£o de teste) | Organiza√ß√£o do c√≥digo de teste |

---

## ‚úÖ Checklist de Teste de Qualidade

- [ ] Testes t√™m nomes descritivos
- [ ] Seguem o padr√£o AAA (Arrange-Act-Assert)
- [ ] S√£o independentes (n√£o compartilham estado)
- [ ] S√£o r√°pidos (< 100ms cada)
- [ ] Testam um comportamento por teste
- [ ] Usam mocks para isolar depend√™ncias
- [ ] Verificam exce√ß√µes esperadas
- [ ] T√™m mensagens de erro claras
- [ ] Cobrem casos felizes e infelizes
- [ ] N√£o testam c√≥digo de framework

---

## üèÅ Conclus√£o

Testes unit√°rios com JUnit 5 e Mockito s√£o ferramentas essenciais para desenvolver software de qualidade. Eles garantem que seu c√≥digo funciona conforme esperado, facilitam refatora√ß√£o e servem como documenta√ß√£o viva.

**Lembre-se**: 
- ‚úÖ Escrever testes leva tempo, mas economiza muito mais no longo prazo
- ‚úÖ Teste o comportamento, n√£o a implementa√ß√£o
- ‚úÖ Mantenha os testes simples e leg√≠veis
- ‚úÖ Testes s√£o c√≥digo de produ√ß√£o - mantenha-os limpos!

---

**Autor**: Guia baseado em boas pr√°ticas e exemplos do projeto unit-test  
**√öltima Atualiza√ß√£o**: 2025  
**Vers√£o**: 1.0

